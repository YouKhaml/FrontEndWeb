

<div class="container">
  <mat-card class="user-list-card">
    <mat-card-header class="card-header">
      <mat-card-title class="title-container">
        List Entreprise
      </mat-card-title>
    </mat-card-header>
    <mat-divider class="card-divider"></mat-divider>
    <mat-card-content>
      <table mat-table [dataSource]="dataSourceEntreprise" class="mat-elevation-z1" matSort>

       <!-- &lt;!&ndash; ID Column &ndash;&gt;
        <ng-container matColumnDef="idEntreprise">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.idEntreprise }}</td>
        </ng-container>-->

        &lt;!&ndash; Nom Column &ndash;&gt;
        <ng-container matColumnDef="nom">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Nom</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.nom }}</td>
        </ng-container>

        &lt;!&ndash; Email Column &ndash;&gt;
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.email }}</td>
        </ng-container>

        &lt;!&ndash; Telephone Column &ndash;&gt;
        <ng-container matColumnDef="telephone">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Telephone</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.telephone }}</td>
        </ng-container>

        &lt;!&ndash; Adresse Column &ndash;&gt;
        <ng-container matColumnDef="adresse">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Adresse</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.adresse }}</td>
        </ng-container>

        &lt;!&ndash; RS Column &ndash;&gt;
        <ng-container matColumnDef="rs">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>RS</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.rs }}</td>
        </ng-container>

        &lt;!&ndash; RC Column &ndash;&gt;
        <ng-container matColumnDef="rc">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>RC</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.rc }}</td>
        </ng-container>

        &lt;!&ndash; ICF Column &ndash;&gt;
        <ng-container matColumnDef="icf">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ICF</th>
          <td mat-cell *matCellDef="let entreprise">{{ entreprise.icf }}</td>
        </ng-container>

        &lt;!&ndash; Quota Column &ndash;&gt;
        <ng-container matColumnDef="quota">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Quota</th>
          <td mat-cell *matCellDef="let entreprise">
            <button (click)="detailQuota(entreprise)" mat-icon-button style="color: #4caf50;" matTooltip="Quota" aria-label="Quota">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </td>
        </ng-container>

        &lt;!&ndash; Admin Column &ndash;&gt;
        <ng-container matColumnDef="Admin">
          <th mat-header-cell *matHeaderCellDef>Details</th>
          <td mat-cell *matCellDef="let entreprise">
            <div class="action-buttons">
              <button (click)="addAdmin(entreprise)" mat-icon-button color="primary" matTooltip="Ajouter Admin" aria-label="Ajouter Admin">
                <mat-icon>person_add</mat-icon>
              </button>
              <button (click)="editEntreprise(entreprise.id, entreprise)" mat-icon-button style="color: #EECE17" matTooltip="Modifier">
                <mat-icon>edit</mat-icon>
              </button>
              <button (click)="deleteEntreprise(entreprise)" mat-icon-button color="warn" matTooltip="Supprimer" aria-label="Supprimer">
                <mat-icon>delete</mat-icon>
              </button>
              <button (click)="listAdminEntreprise(entreprise)" mat-icon-button style="color: #4caf50;" matTooltip="Liste des Admins" aria-label="Liste des Admins">
                <mat-icon>list</mat-icon>
              </button>
              <button *ngIf="!entreprise.quota"
                      mat-icon-button
                      (click)="openAddQuotaDialog(entreprise)"
                      style="color: #4caf50;"
                      matTooltip="Ajouter Quota"
                      aria-label="Ajouter Quota">
                <mat-icon>add</mat-icon>
              </button>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </mat-card-content>
  </mat-card>
</div>




